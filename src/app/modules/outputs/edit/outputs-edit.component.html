<div class="inputs-outputs-save">
    <app-form *ngIf="!loading; else loadingTemplate" [form]="form" (formSubmit)="submit()" formTitle="Editar saída">
        <div class="inputs-outputs-save__grid">
            <app-autocomplete [form]="form"
                              class="inputs-outputs-save__half-column-left"
                              name="productId"
                              label="Produto"
                              [hint]="canNotEditControlHint"
                              placeholder="Selecione um produto"
                              [options]="productOptions">
            </app-autocomplete>

            <app-input [form]="form"
                       label="Quantidade unitária"
                       class="inputs-outputs-save__half-column-right"
                       [inputType]="inputType.NUMBER"
                       [inputMode]="inputMode.NUMERIC"
                       [min]="formConstants.INPUT_OUTPUT_MIN_QUANTITY"
                       [max]="formConstants.INPUT_OUTPUT_MAX_QUANTITY"
                       [hint]="canNotEditControlHint"
                       name="productQuantity"
                       placeholder="Coloque a quantidade unitária">
            </app-input>

            <div class="inputs-outputs-save__grid inputs-outputs-save__half-column-left">
                <app-input [form]="form"
                           label="Para quem foi"
                           class="inputs-outputs-save__full-column"
                           [required]="true"
                           [maxlength]="formConstants.PRODUCT_WENT_TO_MAXLENGTH"
                           name="productWentTo"
                           placeholder="Escreva para quem foi (nome ou setor da pessoa)">
                </app-input>
                <app-checkbox name="exitedSameDateAsCreated"
                              class="inputs-outputs-save__half-column-left"
                              [form]="form"
                              [disabled]="exitedSameDateAsCreatedDisabled"
                              [label]="exitedSameDateAsCreatedLabel">
                </app-checkbox>
                <app-date-picker label="Data de saída"
                                 class="inputs-outputs-save__half-column-right"
                                 [form]="form"
                                 name="dtExited"
                                 [hint]="canNotEditControlHint"
                                 placeholder="Coloque a data de saída">
                </app-date-picker>
                <app-checkbox name="hasProductExpiration"
                              class="inputs-outputs-save__half-column-left"
                              [form]="form"
                              label="Esse produto tem validade">
                </app-checkbox>
            </div>

            <app-text-area name="outputDescription"
                           class="inputs-outputs-save__half-column-right"
                           label="Descrição"
                           [rows]="formConstants.DESCRIPTION_ROWS"
                           [form]="form"
                           [maxlength]="formConstants.DESCRIPTION_MAXLENGTH"
                           placeholder="Coloque a descrição">
            </app-text-area>

            <div class="inputs-outputs-save__actions">
                <app-button [link]="[path.DEFAULT, path.INPUTS_OUTPUTS]"
                            [operation]="buttonOperation.LINK"
                            [layout]="buttonLayout.STROKED"
                            [color]="colorPalette.SECONDARY"
                            label="Voltar">
                </app-button>
                <app-button [type]="buttonType.SUBMIT"
                            [loading]="submitting"
                            [disabled]="form.invalid | formInvalid: form.pristine"
                            label="Salvar saída">
                </app-button>
            </div>
        </div>
    </app-form>

    <ng-template #loadingTemplate>
        <app-content-loading></app-content-loading>
    </ng-template>
</div>
