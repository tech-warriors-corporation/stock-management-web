<header class="header mat-elevation-z3">
    <ng-container *ngIf="title && userName">
        <button mat-icon-button
                (click)="toggleMenu()"
                type="button"
                [attr.aria-label]="'Alternar entre menu aberto ou fechado'">
            <mat-icon class="header__menu-icon" aria-hidden="true">menu</mat-icon>
        </button>

        <h2 class="header__title">{{ title }}</h2>
        <p class="header__user-name">{{ userName }}</p>

        <button mat-icon-button
                [matMenuTriggerFor]="userOptions"
                type="button"
                [attr.aria-label]="isUserOptionsOpened ? 'Fechar opções do usuário' : 'Abrir opções do usuário'">
            <mat-icon aria-hidden="true">{{ isUserOptionsOpened ? 'arrow_drop_up' : 'arrow_drop_down' }}</mat-icon>
        </button>

        <mat-menu #userOptions="matMenu" xPosition="before">
            <button mat-menu-item [type]="buttonType.BUTTON">
                <mat-icon aria-hidden="true">lock</mat-icon> Alterar senha
            </button>
            <button mat-menu-item [type]="buttonType.BUTTON" (click)="openSupportDialog()">
                <mat-icon aria-hidden="true">headset_mic</mat-icon> Suporte
            </button>
            <button mat-menu-item [type]="buttonType.BUTTON" (click)="logout()">
                <mat-icon aria-hidden="true">logout</mat-icon> Sair
            </button>
        </mat-menu>
    </ng-container>
</header>
